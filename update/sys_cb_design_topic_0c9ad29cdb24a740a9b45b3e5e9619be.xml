<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Create ATF Tests">449a565cdb24a740a9b45b3e5e961902</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"8002786f52084d778475453e275ae8d2","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":""},"id":"8002786f52084d778475453e275ae8d2"}],"goals":[{"name":"primary","trigger_id":"8002786f52084d778475453e275ae8d2","nodes":[{"type":"StartGoal","goal_id":"49cfa6452de245bc8189f28ccb4cf440","greeting_msg":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return 'Hi, ' + gs.getUser().getFirstName() + '. I can generate automated ATF tests for specific tables or an entire application. I create tests for tables schemas so that you know when database structures have been modified, which could lead to a negative impact.';\n})()\n"},"id":"b9fb756f1dc041cab00654d12262178b","name":"Start"},{"type":"TerminateGoal","goal_id":"49cfa6452de245bc8189f28ccb4cf440","confirmation_msg":{"type":"String","mode":"string","value":"gs.getMessage(\"I just saved you 4.35 hours by auto-creating these tests.\")"},"id":"b58cc7f7a5774fcfa9d46aa62806dcfd","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"28abadbc9d8d4f19b2abd6b9d12676f3","name":"SelectTarget","goal_id":"49cfa6452de245bc8189f28ccb4cf440","variable_id":"8741ccf2b12a493cadc41e71409d728f","message":{"type":"String","mode":"string","value":"gs.getMessage(\"First, let me know what you want to generate tests for.\")"},"acknowledgement":{"type":"String","mode":"string","value":"gs.getMessage(\"Got it.\")"},"optional":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"ByApplication","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var returnValue = false;\n    if (vaInputs.selecttarget == 'application'){\n        return true;\n    }\n    else{\n        return false;\n    }\n\n})()\n"},"id":"37404ae429cd4ee89ec7f86146480ecb","name":"ByApplication"},{"type":"Branch","label":"CustomQuery","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return (vaInputs.selecttarget == 'tableQuery');\n})()\n"},"id":"3c335209ec00451da9344cc205dfc2a6","name":"CustomQuery"},{"type":"Branch","label":"ByTable","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaInputs.selecttarget == 'table');\n})()\n"},"id":"10bc9d0a7a034e628153c186592df85e","name":"ByTable"},{"type":"Branch","label":"CMDBTables","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaInputs.selecttarget == 'cmdbTables');\n})()\n"},"id":"750b01651de842f1818f331c8b64ac2a","name":"CMDBTables"},{"type":"Branch","label":"SystemTables","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaInputs.selecttarget == 'systemTables');\n})()\n"},"id":"d3dffc04d6de4d1181ba17c70069b413","name":"SystemTables"},{"type":"Branch","label":"ITSMTables","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaInputs.selecttarget == 'itsmTables');\n})()\n"},"id":"aeda6755cbe946f3bd8533c37ab3a0d6","name":"ITSMTables"}],"id":"7fab532e456c4cd69bda2bf9e496b919","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"ScriptedAction","script":"(function execute() {\n    var myATF =new AutoATF();\n    myATF.CreateSuiteByApplication(vaInputs.appname.getDisplayValue(),vaInputs.appname.getDisplayValue());\n    vaVars.testLink = 'https://' + gs.getProperty('instance_name') + '.service-now.com/nav_to.do?uri=%2Fsys_atf_test_suite.do%3Fsys_id%3D' + vaVars.testID;\n    vaVars.linkLabel = 'Auto-generated suite for ' + vaInputs.appname.getDisplayValue();\n})()\n","id":"61cef5a6c7754835ab3e2913d91d7ea5","name":"BuildAppSuiteTest","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"48f486bbf54e4c8ebd05dd623ba6065d","name":"appName","goal_id":"49cfa6452de245bc8189f28ccb4cf440","variable_id":"3907e998400b432a8526fc0e185dd0bf","message":{"type":"String","mode":"string","value":"Please select an Application scope."},"optional":false,"expression_mode":"script","script":"(function execute() {\n\n        var options = [];\n        var gr = new GlideRecord('sys_scope');\n        //gr.addEncodedQuery('active=true^numberSTARTSWITHINC001001');\n        //gr.setLimit(10);\n        gr.orderBy('name');\n        gr.query();\n        while(gr.next()) {\n            options.push({ 'value': gr.getUniqueValue(), 'label': gr.getValue('name') });\n        }\n        return options;\n\n\n \n})()\n","no_options_found_message":{"type":"String","mode":"string","value":"You do not have access to any apps."}},{"type":"InputPrompt","variable_id":"707eb06a56e94fca87a2dc98097cbf7f","message":{"type":"String","mode":"string","value":"gs.getMessage(\"What is the table name (ex: kb_knowledge)?\")"},"acknowledgement":{"type":"String","mode":"string","value":"gs.getMessage(\"One sec...\")"},"optional":false,"id":"176fb7cde2ee41b6ac8b4b116802928d","name":"tableName","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"ScriptedAction","script":"(function execute() {\n    var myATF =new AutoATF();\n    vaVars.testID = myATF.GenerateTestsForTable(vaInputs.tablename);\n    vaVars.testLink = 'https://' + gs.getProperty('instance_name') + '.service-now.com/nav_to.do?uri=%2Fsys_atf_test.do%3Fsys_id%3D' + vaVars.testID;\n    vaVars.linkLabel = 'Auto-generated suite for ' + vaInputs.tablename.getDisplayValue();\n\n})()\n","id":"583982ccc63945ef8bc9a5e340212217","name":"BuildTableTest","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Suite","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return false;\n})()\n"},"id":"e3d8a9a696254c6cacb380d33d661528","name":"Suite"},{"type":"Branch","label":"Always","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return false;\n})()\n"},"id":"5ab12510b306420d807fa9fe143ce848","name":"Always"},{"type":"Branch","label":"Always","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return true;\n})()\n"},"id":"bc286f4af6bc4c7fa2d4fa1e1c61732b","name":"Always"}],"id":"dece5db3c5f044e08cae6e5bb3cf4f75","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"InputPrompt","variable_id":"a0cc58cb27874a89aedc971c8422ac82","message":{"type":"String","mode":"string","value":"gs.getMessage(\"Give me a name for your Suite (Ex. ITSM).\")"},"confirmation":{"type":"String","mode":"string","value":"gs.getMessage(\"Gracias. Un Momento.\")"},"optional":false,"id":"e9a8d27058d142ad91b9765f97d508a2","name":"nameSuite","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"a7a2e19ab4814cf0a3074951eccf69fd","name":"suiteortest","goal_id":"49cfa6452de245bc8189f28ccb4cf440","variable_id":"0fdcf39a4e1a4f2ba7f5f8964a63c53f","message":{"type":"String","mode":"string","value":"gs.getMessage(\"Would you like to create a single test or suite of tests?\")"},"optional":false},{"type":"LinkOutputPrompt","header":{"type":"String","mode":"string","value":"gs.getMessage(\"Your tests have been created.\")"},"label":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return vaVars.linkLabel;\n})()\n"},"url":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return vaVars.testLink;\n})()\n"},"id":"8c25b8c6f94e42f58f21c9f564a5953b","name":"suiteTestLink","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"ScriptedAction","script":"(function execute() {\n    var myATF =new AutoATF();\n    myATF.CreateSuiteByTable('CMDB','sys_update_nameISNOTEMPTY^GOTOnameSTARTSWITHcmdb');\n    vaVars.testLink = 'https://' + gs.getProperty('instance_name') + '.service-now.com/nav_to.do?uri=%2Fsys_atf_test_suite.do%3Fsys_id%3D' + vaVars.testID;\n    vaVars.linkLabel = 'Auto-generated test suite for CMDB';\n\n})()\n","id":"4f21e77a5fa84a7d98e0015b972011ce","name":"BuildCMDBTests","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"ScriptedAction","script":"(function execute() {\n    var myATF =new AutoATF();\n    myATF.CreateSuiteByTable('SYSTEM','sys_update_nameISNOTEMPTY^GOTOnameSTARTSWITHsys_');\n    vaVars.testLink = 'https://' + gs.getProperty('instance_name') + '.service-now.com/nav_to.do?uri=%2Fsys_atf_test_suite.do%3Fsys_id%3D' + vaVars.testID;\n    vaVars.linkLabel = 'Auto-generated test suite for SYSTEM';\n\n})()\n","id":"1e4ae226beba4466bac6117d8c14383b","name":"BuildSystemTables","goal_id":"49cfa6452de245bc8189f28ccb4cf440"},{"type":"ScriptedAction","script":"(function execute() {\n    var myATF =new AutoATF();\n    myATF.CreateSuiteByTable('ITSM-Platform','sys_update_nameISNOTEMPTY^GOTOnameNOT LIKEsys_^nameNOT LIKEcmdb^sys_scope=5f4ef4ed9f401200b18a7feea57fcfbe^ORsys_scope=18351d53eb32120034d1eeea1206fe79^ORsys_scope=cdcf033467020300b410afa00585ef2b^ORsys_scope=1ae06f355710130034d169202d94f92e^ORsys_scope=2efa4be5db0003004d27b31be0b8f5e9^ORsys_scope=global^ORsys_scope=1da803b9b3b10300f686a72256a8dcbc');\n    vaVars.testLink = 'https://' + gs.getProperty('instance_name') + '.service-now.com/nav_to.do?uri=%2Fsys_atf_test_suite.do%3Fsys_id%3D' + vaVars.testID;\n    vaVars.linkLabel = 'Auto-generated test suite for ITSM-Platform';\n})()\n","id":"4445f0645b494784812d3967cb6c42ae","name":"BuildITSMTables","goal_id":"49cfa6452de245bc8189f28ccb4cf440"}],"edges":[{"type":"Edge","source_node_id":"583982ccc63945ef8bc9a5e340212217","target_node_id":"8c25b8c6f94e42f58f21c9f564a5953b","id":"e23b586a03324c069d459460c5bb4b51"},{"type":"Edge","source_node_id":"7fab532e456c4cd69bda2bf9e496b919","target_node_id":"48f486bbf54e4c8ebd05dd623ba6065d","branch_id":"37404ae429cd4ee89ec7f86146480ecb","id":"dd9ffd3a236747db9f3d23a97a38c10c","name":"37404ae429cd4ee89ec7f86146480ecb"},{"type":"Edge","source_node_id":"b9fb756f1dc041cab00654d12262178b","target_node_id":"dece5db3c5f044e08cae6e5bb3cf4f75","id":"5f3d329730c44611bca8f5b9655eca80"},{"type":"Edge","source_node_id":"28abadbc9d8d4f19b2abd6b9d12676f3","target_node_id":"7fab532e456c4cd69bda2bf9e496b919","id":"d9877006b4c64dbfb190d9deb84a4c79"},{"type":"Edge","source_node_id":"7fab532e456c4cd69bda2bf9e496b919","target_node_id":"b58cc7f7a5774fcfa9d46aa62806dcfd","branch_id":"3c335209ec00451da9344cc205dfc2a6","id":"df2910fc866643e68c1cb010b0d1ad08","name":"3c335209ec00451da9344cc205dfc2a6"},{"type":"Edge","source_node_id":"48f486bbf54e4c8ebd05dd623ba6065d","target_node_id":"61cef5a6c7754835ab3e2913d91d7ea5","id":"a342becfc4fa449c96084c94012c01f8"},{"type":"Edge","source_node_id":"7fab532e456c4cd69bda2bf9e496b919","target_node_id":"176fb7cde2ee41b6ac8b4b116802928d","branch_id":"10bc9d0a7a034e628153c186592df85e","id":"e19cba501644424da752c3f8ec4e9d0b","name":"10bc9d0a7a034e628153c186592df85e"},{"type":"Edge","source_node_id":"176fb7cde2ee41b6ac8b4b116802928d","target_node_id":"583982ccc63945ef8bc9a5e340212217","id":"5466ae34ed7745dc9213887566010469"},{"type":"Edge","source_node_id":"dece5db3c5f044e08cae6e5bb3cf4f75","target_node_id":"e9a8d27058d142ad91b9765f97d508a2","branch_id":"e3d8a9a696254c6cacb380d33d661528","id":"ecb4aa912f434053a78c01b2be7a1f2f","name":"e3d8a9a696254c6cacb380d33d661528"},{"type":"Edge","source_node_id":"e9a8d27058d142ad91b9765f97d508a2","target_node_id":"28abadbc9d8d4f19b2abd6b9d12676f3","id":"a0284554c2374c85be20e52c6c5afac0"},{"type":"Edge","source_node_id":"dece5db3c5f044e08cae6e5bb3cf4f75","target_node_id":"a7a2e19ab4814cf0a3074951eccf69fd","branch_id":"5ab12510b306420d807fa9fe143ce848","id":"72379851e6684abd913461e93d778d8f","name":"5ab12510b306420d807fa9fe143ce848"},{"type":"Edge","source_node_id":"a7a2e19ab4814cf0a3074951eccf69fd","target_node_id":"28abadbc9d8d4f19b2abd6b9d12676f3","id":"d6d4641fed7747668879c7fd92171f4d"},{"type":"Edge","source_node_id":"dece5db3c5f044e08cae6e5bb3cf4f75","target_node_id":"28abadbc9d8d4f19b2abd6b9d12676f3","branch_id":"bc286f4af6bc4c7fa2d4fa1e1c61732b","id":"6810f285704d438e8e259baedf9fed43","name":"bc286f4af6bc4c7fa2d4fa1e1c61732b"},{"type":"Edge","source_node_id":"61cef5a6c7754835ab3e2913d91d7ea5","target_node_id":"8c25b8c6f94e42f58f21c9f564a5953b","id":"f8f6ea0dbe2c415a80ad746c246751b6"},{"type":"Edge","source_node_id":"8c25b8c6f94e42f58f21c9f564a5953b","target_node_id":"b58cc7f7a5774fcfa9d46aa62806dcfd","id":"d5f89530d4d741c9aec1261a65e3997d"},{"type":"Edge","source_node_id":"7fab532e456c4cd69bda2bf9e496b919","target_node_id":"4f21e77a5fa84a7d98e0015b972011ce","branch_id":"750b01651de842f1818f331c8b64ac2a","id":"3b1fdfa686ab4ec582d6821ebdb8659d","name":"750b01651de842f1818f331c8b64ac2a"},{"type":"Edge","source_node_id":"4f21e77a5fa84a7d98e0015b972011ce","target_node_id":"8c25b8c6f94e42f58f21c9f564a5953b","id":"4c35c8372e724b6aa9cc0cdd4f0ef5e3"},{"type":"Edge","source_node_id":"7fab532e456c4cd69bda2bf9e496b919","target_node_id":"1e4ae226beba4466bac6117d8c14383b","branch_id":"d3dffc04d6de4d1181ba17c70069b413","id":"25f6fa20785446759770b06d0fc1dd1e","name":"d3dffc04d6de4d1181ba17c70069b413"},{"type":"Edge","source_node_id":"1e4ae226beba4466bac6117d8c14383b","target_node_id":"8c25b8c6f94e42f58f21c9f564a5953b","id":"0f0498ae015f4e6896fd2eda1d70a001"},{"type":"Edge","source_node_id":"7fab532e456c4cd69bda2bf9e496b919","target_node_id":"4445f0645b494784812d3967cb6c42ae","branch_id":"aeda6755cbe946f3bd8533c37ab3a0d6","id":"c22c63efb5494e2e9a7ba9c83d8853ca","name":"aeda6755cbe946f3bd8533c37ab3a0d6"},{"type":"Edge","source_node_id":"4445f0645b494784812d3967cb6c42ae","target_node_id":"8c25b8c6f94e42f58f21c9f564a5953b","id":"fc805475fb7845bb89349dae57ca7ecc"}],"id":"49cfa6452de245bc8189f28ccb4cf440"}],"script_variables":[{"type":"String","name":"testID","value":{"type":"String","mode":"string","value":""},"id":"23ebb18b77ee4b2c87be73b39e9b3d58"},{"type":"String","name":"testLink","value":{"type":"String","mode":"string","value":""},"id":"06f88f4709064aaf8f74c99851e94bd9"},{"type":"String","name":"linkLabel","value":{"type":"String","mode":"string","value":""},"id":"30284710edd94d728fb69eba69fd649f"}],"glide_variables":[{"type":"Choice","choices":[{"name":"An entire scoped  application","element":"application"},{"name":"A specific table","element":"table"},{"name":"Custom query of tables","element":"tableQuery"},{"name":"All System tables","element":"systemTables"},{"name":"All CMDB tables","element":"cmdbTables"},{"name":"All ITSM and Platform tables","element":"itsmTables"}],"id":"8741ccf2b12a493cadc41e71409d728f","name":"selecttarget"},{"type":"Choice","choices":[],"id":"3907e998400b432a8526fc0e185dd0bf","name":"appname","table":"cmdb_ci_endpoint_app"},{"type":"Choice","choices":[{"name":"234","element":"45"}],"id":"0fdcf39a4e1a4f2ba7f5f8964a63c53f","name":"suiteortest"},{"type":"String","name":"tablename","id":"707eb06a56e94fca87a2dc98097cbf7f"},{"type":"String","name":"namesuite","id":"a0cc58cb27874a89aedc971c8422ac82"}],"applicability":{"type":"Applicability","mode":"script","value":""},"roles":["admin"],"scope":"92fa39d4dbe0a740a9b45b3e5e961963","id":"f6698a50db24a740a9b45b3e5e9619a8","name":"Create ATF Tests","key_phrases":["Create ATF Tests"]}</design_definition>
        <design_topic_id>f6698a50db24a740a9b45b3e5e9619a8</design_topic_id>
        <name>Create ATF Tests</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>jay.freise@servicenow.com</sys_created_by>
        <sys_created_on>2018-09-10 21:01:19</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>0c9ad29cdb24a740a9b45b3e5e9619be</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="Auto-ATF" source="x_snc_auto_atf">92fa39d4dbe0a740a9b45b3e5e961963</sys_package>
        <sys_policy/>
        <sys_scope display_value="Auto-ATF">92fa39d4dbe0a740a9b45b3e5e961963</sys_scope>
        <sys_update_name>sys_cb_design_topic_0c9ad29cdb24a740a9b45b3e5e9619be</sys_update_name>
        <sys_updated_by>jay.freise@servicenow.com</sys_updated_by>
        <sys_updated_on>2018-09-11 20:41:53</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
